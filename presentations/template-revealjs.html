<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">

    <title>$title$</title>

    <meta name="description" content="$title$">

    $for(author)$
      <meta name="author" content="$author$" />
    $endfor$

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="$revealjs-url$/css/reveal.css">
    <style type="text/css">
      section.level2 > h2 {font-size: 150%;}
      section.level1 > h2 {font-size: 200%;}
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: table-cell; vertical-align: top; text-align: left; margin: auto;}
    </style>
    $if(theme)$
      <link rel="stylesheet" href="$revealjs-url$/css/theme/$theme$.css" id="theme">
    $else$
      <link rel="stylesheet" href="$revealjs-url$/css/theme/black.css" id="theme">
    $endif$

    <!-- For syntax highlighting -->
    $if(highlight-style)$
      <link rel="stylesheet" href="$revealjs-url$/lib/css/$highlight-style$.css">
    $else$
      <link rel="stylesheet" href="$revealjs-url$/lib/css/monokai.css">
    $endif$

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
      document.write( '<link rel="stylesheet" href="$revealjs-url$/css/print/' +
        ( window.location.search.match( /print-pdf/gi ) ? 'pdf' : 'paper' ) +
        '.css" type="text/css" media="print">' );
    </script>

    $for(header-includes)$
      $header-includes$
    $endfor$
  </head>

  <body>
    $for(include-before)$
      $include-before$
    $endfor$

    <div class="reveal">
      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <h3>$title$</h3>
          $for(author)$
            <h4>$author$</h4>
          $endfor$
          <p>
            <h5>$date$</h5>
          </p>
        </section>

        $if(toc)$
          <section>
            <h3>Outline</h3>
            <nav id="$idprefix$TOC">
              $toc$
            </nav>
          </section>
        $endif$

        $body$
      </div>

      <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
      <script src="$revealjs-url$/lib/js/head.min.js"></script>
      <script src="$revealjs-url$/js/reveal.js"></script>

      <script>
        jQuery('section').removeAttr('id');
        jQuery('section[target]')
          .map(function(i, el) {
            jQuery(el).find(el.attributes.target.value)
              .map(function() {
                jQuery(this).addClass('fragment ' + el.attributes['data-fragment'].value)
              });
          });
        jQuery('section[data-bg_color]')
          .map(function(i, el) {
            jQuery(el).attr('data-background', el.attributes['data-bg_color'].value);
          });
      </script>

      <script>
        // Full list of configuration options available at:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
          // Push each slide change to the browser history
          history: true,
          center: false,
          // Optional reveal.js plugins
          dependencies: [
            { src: '$revealjs-url$/lib/js/classList.js', condition: function() { return !document.body.classList; } },
            { src: '$revealjs-url$/plugin/markdown/showdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: '$revealjs-url$/plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
            { src: '$revealjs-url$/plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
            { src: '$revealjs-url$/plugin/zoom-js/zoom.js', async: true },
            { src: '$revealjs-url$/plugin/notes/notes.js', async: true }
          ]
        });
      </script>
    </div>
  </body>
</html>
